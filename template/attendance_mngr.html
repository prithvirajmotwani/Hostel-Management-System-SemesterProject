{% extends 'home.html' %}



{% block script_ %}

function mark(btnHtml) {

if (btnHtml.value == "P"){
btnHtml.value = "A";
btnHtml.classList.replace("btn-success", "btn-danger");

}
else{
btnHtml.value = "P";
btnHtml.classList.replace("btn-danger", "btn-success");
}

}


{% endblock script_ %}

{% block main_part %}



{% comment %} <form>
  {% csrf_token %}
  <table class="table table-striped table-bordered table-sm table-hover" cellspacing="0" width="100%">




    <tbody>

      <form action="/attendance" method="POST">
        {% csrf_token %}

      </form>


    </tbody>


  </table>
</form> {% endcomment %}


<nav id="navbar-example2" class="navbar bg-light px-3 mb-3 sticky-sm-top">
  <ul class="nav nav-pills">
    <li class="nav-item">
      <a class="nav-link border" href="#scrollspyHeading1">Freshmen</a>
    </li>
    <li class="nav-item">
      <a class="nav-link border" href="#scrollspyHeading2">Sophomores</a>
    </li>
    <li class="nav-item">
      <a class="nav-link border" href="#scrollspyHeading3">Juniors</a>
    </li>
    <li class="nav-item">
      <a class="nav-link border" href="#scrollspyHeading4">Seniors</a>
    </li>
    <li class="nav-item">
      <a class="nav-link border" href="#scrollspyHeading5">↓↓</a>
    </li>

  </ul>
</nav>


<form action="/attendance" method="post">
  {% csrf_token %}
  <div data-bs-spy="scroll" data-bs-target="#navbar-example2" data-bs-root-margin="0px 0px -40%"
    data-bs-smooth-scroll="true" class="scrollspy-example bg-light p-3 rounded-2" tabindex="0">

    <h4 id="scrollspyHeading1">Third floor</h4>
    <table class="table table-striped table-bordered table-sm table-hover" cellspacing="0" width="100%">

      <thead class="table-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col" onclick="sortTable(1)">Name</th>
          <th scope="col" onclick="sortTable(2)">CMS ID</th>
          <th scope="col">Department</th>
          <th scope="col">Room number</th>
          <th scope="col">Mark</th>
        </tr>
      </thead>
      <tbody>
        {% for user in users.3 %}
        <tr>
          <th scope="row">{{ forloop.counter0}}</th>
          <td>{{user.fullName}}</td>
          <td>{{user.cmsId}}</td>
          <td>{{user.department}}</td>
          <td>{{user.roomNumber}}</td>
          <label for="mark_btn1{{forloop.counter0}}" name="{{user.cmsId}}">
          <td><input type="button" id="mark_btn1{{forloop.counter0}}" onclick="mark(this)" value="A" class="btn btn-danger"></td>
          </label>
        </tr>
        {% endfor %}
      </tbody>

    </table>




    <h4 id="scrollspyHeading2">Second floor</h4>
    <table class="table table-striped table-bordered table-sm table-hover" cellspacing="0" width="100%">
      <thead class="table-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col" onclick="sortTable(1)">Name</th>
          <th scope="col" onclick="sortTable(2)">CMS ID</th>
          <th scope="col">Department</th>
          <th scope="col">Room number</th>
          <th scope="col">Mark</th>
        </tr>
      </thead>

      <tbody>
        {% for user in users.2 %}
        <tr>
          <th scope="row">{{ forloop.counter0}}</th>
          <td>{{user.fullName}}</td>
          <td>{{user.cmsId}}</td>
          <td>{{user.department}}</td>
          <td>{{user.roomNumber}}</td>
          <label for="mark_btn2{{forloop.counter0}}" name="{{user.cmsId}}">
          <td><input type="button" id="mark_btn2{{forloop.counter0}}" onclick="mark(this)" value="A" class="btn btn-danger"></td>
          </label>
        </tr>
        {% endfor %}
      </tbody>
    </table>



    <table class="table table-striped table-bordered table-sm table-hover" cellspacing="0" width="100%">
      <h4 id="scrollspyHeading3">First floor</h4>

      <thead class="table-dark">

        <tr>
          <th scope="col">#</th>
          <th scope="col" onclick="sortTable(1)">Name</th>
          <th scope="col" onclick="sortTable(2)">CMS ID</th>
          <th scope="col">Department</th>
          <th scope="col">Room number</th>
          <th scope="col">Mark</th>
        </tr>
      </thead>
      <tbody>
        {% for user in users.1 %}
        <tr>
          <th scope="row">{{ forloop.counter0}}</th>
          <td>{{user.fullName}}</td>
          <td>{{user.cmsId}}</td>
          <td>{{user.department}}</td>
          <td>{{user.roomNumber}}</td>
          <label for="mark_btn3{{forloop.counter0}}" name="{{user.cmsId}}">
          <td><input type="button" id="mark_btn3{{forloop.counter0}}" onclick="mark(this)" value="A" class="btn btn-danger"></td>
          </label>
        </tr>
        {% endfor %}
      </tbody>

    </table>



    <table class="table table-striped table-bordered table-sm table-hover" cellspacing="0" width="100%">

      <h4 id="scrollspyHeading4">Ground floor</h4>

      <thead class="table-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col" onclick="sortTable(1)">Name</th>
          <th scope="col" onclick="sortTable(2)">CMS ID</th>
          <th scope="col">Department</th>
          <th scope="col">Room number</th>
          <th scope="col">Mark</th>
        </tr>
      </thead>

      <tbody>
        {% for user in users.0 %}
        <tr>
          <th scope="row">{{ forloop.counter0}}</th>
          <td>{{user.fullName}}</td>
          <td>{{user.cmsId}}</td>
          <td>{{user.department}}</td>
          <td>{{user.roomNumber}}</td>
          
          <td>
            <input type="button" id="mark_btn4{{forloop.counter0}}" name="{{user.cmsId}}" onclick="mark(this)" value="A" class="btn btn-danger">
            <label for="mark_btn4{{forloop.counter0}}" ></label>
          </td>
          
        </tr>
        {% endfor %}
        <td>
          <input type="button" name="heybro" value="ABCD">
          
        </td>
        
      </tbody>
    </table>

    <button type="submit" class="btn btn-success" id="scrollspyHeading5">Submit</button>

  </div>

</form>

{% endblock main_part %}